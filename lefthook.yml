commit-msg:
  commands:
    lint-message:
      run: npx commitlint --edit {1}

pre-commit:
  commands:
    format-lua:
      glob: "*.lua"
      run: stylua {staged_files}
    format-toml:
      glob: "*.toml"
      run: taplo format {staged_files}
    format-yaml-json-css:
      glob: "*.{yaml,yml,json,css}"
      run: prettier --write {staged_files}
    format-shell:
      glob: "*.{sh,bash,zsh}"
      run: shfmt -w {staged_files}

pre-push:
  commands:
    no-wip:
      run: git log origin/main..HEAD --oneline | grep -qvE "wip|fixup!"

post-checkout:
  commands:
    set-template:
      run: git config commit.template .gitmessage

post-merge: # Runs when they pull new code
  commands:
    set-template:
      run: git config commit.template .gitmessage

